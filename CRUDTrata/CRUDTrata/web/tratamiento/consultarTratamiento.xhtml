<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Tratamientos</title>
        <!-- IMPORTACION PARA DATATABLE -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous"></link>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.0/css/bootstrap.min.css"></link>
        <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css"></link>
        
        
        <!-- IMPORTAR -->
        <link rel="preconnect" href="https://fonts.googleapis.com"></link>
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin=""></link>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"></link>
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500&display;=swap" rel="stylesheet"></link>
        <link rel="icon" href="img/icono.ico" type="image/x-icon"></link>
        <!-- ESTILOS CSS -->
        <link rel="stylesheet" href="style/consultarStyle.css"/>
        
    </h:head>
    <h:body>
        <!-- BARRA DE NAVEGACION -->
        <aside id="sideBar" class="menu-collapsed">
        <div id="header">
            <div id="logo">
                <img src="img/logo.svg" alt="logoDentySystem" id="loguito"></img>
            </div>            
        </div>
        
        <div id="profile">
            <div id="photo">
                <img src="img/user.svg" alt="photoUser" id="photoUser"></img>
            </div>
        </div>

        <div id="items">
            <div class="itemPrincipales">
                <!--principales-->
                <div class="item1">
                    <a href="#">
                        <div class="item1__icon"><img src="img/users.svg" alt="iconGesPa"></img></div>
                        <div class="item1__title">Pacientes</div>
                    </a>
                </div>
                    
                <div class="item2">
                    <a href="#">
                        <div class="item2__icon"><img src="img/calendar3.svg" alt="iconCitas"></img></div>
                        <div class="item2__title" >Citas</div>
                    </a>
                </div>
                
                <div class="item3">
                    <a href="#{tratamientoControlador.consultarTodos()}">
                        <!--<div class="item3__icon"><img src="img/tratamientos.svg" alt="iconTrata"></div>-->
                        <i class=" item3__icon fa-solid fa-tooth" style="color: #ffffff;"></i>
                        <div class="item3__title">Tratamientos</div>
                    </a>
                </div>

                <div class="item4">
                    <a href="#">
                        <div class="item4__icon"><img src="img/reportes.svg" alt="iconReposrtes"></img></div>
                        <div class="item4__title">Reportes</div>
                    </a>
                </div>
            </div>
            <div class="itemSecundarios">
                <!--secundarios-->
                <div class="item5">
                    <a href="#">
                        <div class="item5__icon"><img src="img/confi.svg" alt="iconConfi"></img></div>
                        <div class="item5__title">Configuración</div>
                    </a>
                </div>
                
                <div class="item6">
                    <a href="#">
                        <div class="item6_icon"><img src="img/salir.svg" alt="iconSalir"></img></div>
                        <div class="item6_title">Cerrar Sesión</div>
                    </a>
                </div>
            </div>
        </div>
    </aside> 
        
        <!-- TABLA PARA CONSULTAR TRATAMIENTO -->
        <f:view>
                        
            <h:form> 
                <div class="contenedor_titulo">
                    <h1 class="titulo" value="Tratamientos">Tratamientos</h1>
                </div>
                <div class="formulario__grupo formulario__grupo-btn-resgistrar">
                    <h:commandButton class="formulario__btn" value="Registrar" action="registrarTratamiento" />
                </div>
                <div class="container mt-4" id="tabla" >
                    <div class="row">
                        <div class="col-10 text-center"> <!-- Controla el ancho y la alineación horizontal -->
                            <div class="table-responsive">
                                            <h:dataTable value="#{tratamientoControlador.consultarTodos()}" var="tratamiento" id="tablaTratamientos" class="table table-striped table-sm ">
                                <h:column>
                                    <f:facet name="header" >
                                        <h:outputText  value="Codigo"/>
                                    </f:facet>
                                    <h:outputText value="#{tratamiento.codigo}"/>
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        <h:outputText value="NombreTratamiento"/>
                                    </f:facet>
                                    <h:outputText value="#{tratamiento.nombreTratamiento}"/>
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        <h:outputText value="Estado"/>
                                    </f:facet>
                                    <h:outputText value="#{tratamiento.estado}"/>
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        <h:outputText value="Descripcion"/>
                                    </f:facet>
                                    <h:outputText value="#{tratamiento.descripcion}"/>
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        <h:outputText value="Valor"/>
                                    </f:facet>
                                    <h:outputText value="#{tratamiento.valor}"/>
                                </h:column>

                                <!-- Botones -->
                                <div class="formulario__grupo formulario__grupo-btn-enviar">
                                    <h:column>
                                        <f:facet name="header">
                                            <h:outputText value="Acciones"/>
                                        </f:facet>
                                        <h:commandButton class="formulario__btn" value="Editar" action="#{tratamientoControlador.preActualizar(tratamiento)}"></h:commandButton>
                                        <h:commandButton class="formulario__btn" value="Eliminar" action="#{tratamientoControlador.eliminar(tratamiento)}"></h:commandButton>
                                    </h:column>
                                </div>                    
                            </h:dataTable>


                            </div>
                        </div>
                    </div>
                </div>
            </h:form>
            
            
            <script src="https://code.jquery.com/jquery-3.7.0.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
            <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
            <script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>
            <script>
                // Asegura que el código se ejecute después de que el documento esté listo
                $(document).ready(function () {
                    $('#tablaTratamientos').DataTable();
                });

            </script>
            
        </f:view>

    </h:body>
</html>
